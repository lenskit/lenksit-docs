

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Basic and Utility Algorithms &mdash; LensKit 0.10.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script async="async" src="https://assets.readthedocs.org/static/javascript/readthedocs-doc-embed.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="k-NN Collaborative Filtering" href="knn.html" />
    <link rel="prev" title="Algorithm Summary" href="algorithms.html" /> 

<!-- RTD Extra Head -->

<!-- 
Always link to the latest version, as canonical.
http://docs.readthedocs.org/en/latest/canonical.html
-->
<link rel="canonical" href="https://lkpy.readthedocs.io/en/stable/basic.html" />

<link rel="stylesheet" href="https://assets.readthedocs.org/static/css/readthedocs-doc-embed.css" type="text/css" />

<script type="text/javascript" src="_static/readthedocs-data.js"></script>

<!-- Add page-specific data, which must exist in the page js, not global -->
<script type="text/javascript">
READTHEDOCS_DATA['page'] = "basic"
READTHEDOCS_DATA['source_suffix'] = ".rst"
</script>

<script type="text/javascript" src="https://assets.readthedocs.org/static/javascript/readthedocs-analytics.js" async="async"></script>

<!-- end RTD <extrahead> -->
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> LensKit
          

          
          </a>

          
            
            
            
              <div class="version">
                0.10.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="install.html">Install LensKit</a></li>
<li class="toctree-l1"><a class="reference internal" href="GettingStarted.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/lenskit/lkpy/releases">Release Notes</a></li>
</ul>
<p class="caption"><span class="caption-text">Running Experiments</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="datasets.html">Loading Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="crossfold.html">Splitting Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="batch.html">Batch-Running Recommenders</a></li>
<li class="toctree-l1"><a class="reference internal" href="evaluation/index.html">Evaluating Recommender Output</a></li>
</ul>
<p class="caption"><span class="caption-text">Algorithms</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="interfaces.html">Algorithm Interfaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="algorithms.html">Algorithm Summary</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Basic and Utility Algorithms</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#personalized-mean-rating-prediction">Personalized Mean Rating Prediction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#most-popular-item-recommendation">Most Popular Item Recommendation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#random-item-recommendation">Random Item Recommendation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#top-n-recommender">Top-N Recommender</a></li>
<li class="toctree-l2"><a class="reference internal" href="#unrated-item-candidate-selector">Unrated Item Candidate Selector</a></li>
<li class="toctree-l2"><a class="reference internal" href="#fallback-predictor">Fallback Predictor</a></li>
<li class="toctree-l2"><a class="reference internal" href="#memorized-predictor">Memorized Predictor</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="knn.html">k-NN Collaborative Filtering</a></li>
<li class="toctree-l1"><a class="reference internal" href="mf.html">Classic Matrix Factorization</a></li>
<li class="toctree-l1"><a class="reference internal" href="tf.html">TensorFlow Algorithms</a></li>
<li class="toctree-l1"><a class="reference internal" href="hpf.html">Hierarchical Poisson Factorization</a></li>
<li class="toctree-l1"><a class="reference internal" href="implicit.html">Implicit</a></li>
</ul>
<p class="caption"><span class="caption-text">Tips and Tricks</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="performance.html">Performance Tips</a></li>
<li class="toctree-l1"><a class="reference internal" href="diagnostics.html">Errors and Diagnostics</a></li>
<li class="toctree-l1"><a class="reference internal" href="impl-tips.html">Algorithm Implementation Tips</a></li>
</ul>
<p class="caption"><span class="caption-text">Configuration and Internals</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="util.html">Utility Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="random.html">Random Number Generation</a></li>
<li class="toctree-l1"><a class="reference internal" href="internals.html">LensKit Internals</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">LensKit</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Basic and Utility Algorithms</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/lenskit/lkpy/blob/0.10.0/doc/basic.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="module-lenskit.algorithms.basic">
<span id="basic-and-utility-algorithms"></span><h1>Basic and Utility Algorithms<a class="headerlink" href="#module-lenskit.algorithms.basic" title="Permalink to this headline">¶</a></h1>
<p>The <a class="reference internal" href="#module-lenskit.algorithms.basic" title="lenskit.algorithms.basic"><code class="xref py py-mod docutils literal notranslate"><span class="pre">lenskit.algorithms.basic</span></code></a> module contains baseline and utility algorithms
for nonpersonalized recommendation and testing.</p>
<div class="section" id="personalized-mean-rating-prediction">
<h2>Personalized Mean Rating Prediction<a class="headerlink" href="#personalized-mean-rating-prediction" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="lenskit.algorithms.basic.Bias">
<em class="property">class </em><code class="sig-prename descclassname">lenskit.algorithms.basic.</code><code class="sig-name descname">Bias</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">items</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">users</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">damping</span><span class="o">=</span><span class="default_value">0.0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lenskit.algorithms.basic.Bias" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="interfaces.html#lenskit.algorithms.Predictor" title="lenskit.algorithms.Predictor"><code class="xref py py-class docutils literal notranslate"><span class="pre">lenskit.algorithms.Predictor</span></code></a></p>
<p>A user-item bias rating prediction algorithm.  This implements the following
predictor algorithm:</p>
<div class="math notranslate nohighlight">
\[s(u,i) = \mu + b_i + b_u\]</div>
<p>where <span class="math notranslate nohighlight">\(\mu\)</span> is the global mean rating, <span class="math notranslate nohighlight">\(b_i\)</span> is item bias, and
<span class="math notranslate nohighlight">\(b_u\)</span> is the user bias.  With the provided damping values
<span class="math notranslate nohighlight">\(\beta_{\mathrm{u}}\)</span> and <span class="math notranslate nohighlight">\(\beta_{\mathrm{i}}\)</span>, they are computed
as follows:</p>
<div class="math notranslate nohighlight">
\[\begin{align*}
\mu &amp; = \frac{\sum_{r_{ui} \in R} r_{ui}}{|R|} &amp;
b_i &amp; = \frac{\sum_{r_{ui} \in R_i} (r_{ui} - \mu)}{|R_i| + \beta_{\mathrm{i}}} &amp;
b_u &amp; = \frac{\sum_{r_{ui} \in R_u} (r_{ui} - \mu - b_i)}{|R_u| + \beta_{\mathrm{u}}}
\end{align*}\]</div>
<p>The damping values can be interpreted as the number of default (mean) ratings to assume
<em>a priori</em> for each user or item, damping low-information users and items towards a mean instead
of permitting them to take on extreme values based on few ratings.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>items</strong> – whether to compute item biases</p></li>
<li><p><strong>users</strong> – whether to compute user biases</p></li>
<li><p><strong>damping</strong> (<em>number</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.8)"><em>tuple</em></a>) – Bayesian damping to apply to computed biases.  Either a number, to
damp both user and item biases the same amount, or a (user,item) tuple
providing separate damping values.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt id="lenskit.algorithms.basic.Bias.mean_">
<code class="sig-name descname">mean_</code><em class="property">: double</em><a class="headerlink" href="#lenskit.algorithms.basic.Bias.mean_" title="Permalink to this definition">¶</a></dt>
<dd><p>The global mean rating.</p>
</dd></dl>

<dl class="py attribute">
<dt id="lenskit.algorithms.basic.Bias.item_offsets_">
<code class="sig-name descname">item_offsets_</code><em class="property">: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.0.4)">pandas.Series</a></em><a class="headerlink" href="#lenskit.algorithms.basic.Bias.item_offsets_" title="Permalink to this definition">¶</a></dt>
<dd><p>The item offsets (<span class="math notranslate nohighlight">\(b_i\)</span> values)</p>
</dd></dl>

<dl class="py attribute">
<dt id="lenskit.algorithms.basic.Bias.user_offsets_">
<code class="sig-name descname">user_offsets_</code><em class="property">: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.0.4)">pandas.Series</a></em><a class="headerlink" href="#lenskit.algorithms.basic.Bias.user_offsets_" title="Permalink to this definition">¶</a></dt>
<dd><p>The item offsets (<span class="math notranslate nohighlight">\(b_u\)</span> values)</p>
</dd></dl>

<dl class="py method">
<dt id="lenskit.algorithms.basic.Bias.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ratings</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lenskit.algorithms.basic.Bias.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Train the bias model on some rating data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ratings</strong> (<em>DataFrame</em>) – a data frame of ratings. Must have at least <cite>user</cite>,
<cite>item</cite>, and <cite>rating</cite> columns.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the fit bias object.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#lenskit.algorithms.basic.Bias" title="lenskit.algorithms.basic.Bias">Bias</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lenskit.algorithms.basic.Bias.transform">
<code class="sig-name descname">transform</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ratings</span></em>, <em class="sig-param"><span class="o">*</span></em>, <em class="sig-param"><span class="n">indexes</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lenskit.algorithms.basic.Bias.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform ratings by removing the bias term.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ratings</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.0.4)"><em>pandas.DataFrame</em></a>) – The ratings to transform.  Must contain at least <code class="docutils literal notranslate"><span class="pre">user</span></code>, <code class="docutils literal notranslate"><span class="pre">item</span></code>, and
<code class="docutils literal notranslate"><span class="pre">rating</span></code> columns.</p></li>
<li><p><strong>indexes</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – if <code class="docutils literal notranslate"><span class="pre">True</span></code>, the resulting frame will include <code class="docutils literal notranslate"><span class="pre">uidx</span></code> and <code class="docutils literal notranslate"><span class="pre">iidx</span></code>
columns containing the 0-based user and item indexes for each rating.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A data frame with <code class="docutils literal notranslate"><span class="pre">rating</span></code> transformed by subtracting
user-item bias prediction.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.0.4)">pandas.DataFrame</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lenskit.algorithms.basic.Bias.inverse_transform">
<code class="sig-name descname">inverse_transform</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ratings</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lenskit.algorithms.basic.Bias.inverse_transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform ratings by removing the bias term.</p>
</dd></dl>

<dl class="py method">
<dt id="lenskit.algorithms.basic.Bias.fit_transform">
<code class="sig-name descname">fit_transform</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ratings</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lenskit.algorithms.basic.Bias.fit_transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit with ratings and return the training data transformed.</p>
</dd></dl>

<dl class="py method">
<dt id="lenskit.algorithms.basic.Bias.predict_for_user">
<code class="sig-name descname">predict_for_user</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">user</span></em>, <em class="sig-param"><span class="n">items</span></em>, <em class="sig-param"><span class="n">ratings</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lenskit.algorithms.basic.Bias.predict_for_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute predictions for a user and items.  Unknown users and items
are assumed to have zero bias.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>user</strong> – the user ID</p></li>
<li><p><strong>items</strong> (<em>array-like</em>) – the items to predict</p></li>
<li><p><strong>ratings</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.0.4)"><em>pandas.Series</em></a>) – the user’s ratings (indexed by item id); if
provided, will be used to recompute the user’s
bias at prediction time.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>scores for the items, indexed by item id.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.0.4)">pandas.Series</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lenskit.algorithms.basic.Bias.user_index">
<em class="property">property </em><code class="sig-name descname">user_index</code><a class="headerlink" href="#lenskit.algorithms.basic.Bias.user_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the user index from this (fit) bias.</p>
</dd></dl>

<dl class="py method">
<dt id="lenskit.algorithms.basic.Bias.item_index">
<em class="property">property </em><code class="sig-name descname">item_index</code><a class="headerlink" href="#lenskit.algorithms.basic.Bias.item_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the item index from this (fit) bias.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="most-popular-item-recommendation">
<h2>Most Popular Item Recommendation<a class="headerlink" href="#most-popular-item-recommendation" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="#lenskit.algorithms.basic.Popular" title="lenskit.algorithms.basic.Popular"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popular</span></code></a> algorithm implements most-popular-item recommendation.</p>
<dl class="py class">
<dt id="lenskit.algorithms.basic.Popular">
<em class="property">class </em><code class="sig-prename descclassname">lenskit.algorithms.basic.</code><code class="sig-name descname">Popular</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">selector</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lenskit.algorithms.basic.Popular" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="interfaces.html#lenskit.algorithms.Recommender" title="lenskit.algorithms.Recommender"><code class="xref py py-class docutils literal notranslate"><span class="pre">lenskit.algorithms.Recommender</span></code></a></p>
<p>Recommend the most popular items.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>selector</strong> (<a class="reference internal" href="interfaces.html#lenskit.CandidateSelector" title="lenskit.CandidateSelector"><em>CandidateSelector</em></a>) – The candidate selector to use. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, uses a new
<a class="reference internal" href="#lenskit.algorithms.basic.UnratedItemCandidateSelector" title="lenskit.algorithms.basic.UnratedItemCandidateSelector"><code class="xref py py-class docutils literal notranslate"><span class="pre">UnratedItemCandidateSelector</span></code></a>.</p>
</dd>
</dl>
<dl class="py attribute">
<dt id="lenskit.algorithms.basic.Popular.item_pop_">
<code class="sig-name descname">item_pop_</code><em class="property">: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.0.4)">pandas.Series</a></em><a class="headerlink" href="#lenskit.algorithms.basic.Popular.item_pop_" title="Permalink to this definition">¶</a></dt>
<dd><p>Item rating counts (popularity)</p>
</dd></dl>

<dl class="py method">
<dt id="lenskit.algorithms.basic.Popular.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ratings</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lenskit.algorithms.basic.Popular.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Train a model using the specified ratings (or similar) data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ratings</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.0.4)"><em>pandas.DataFrame</em></a>) – The ratings data.</p></li>
<li><p><strong>kwargs</strong> – Additional training data the algorithm may require.  Algorithms should
avoid using the same keyword arguments for different purposes, so that
they can be more easily hybridized.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The algorithm object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lenskit.algorithms.basic.Popular.recommend">
<code class="sig-name descname">recommend</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">user</span></em>, <em class="sig-param"><span class="n">n</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">candidates</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ratings</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lenskit.algorithms.basic.Popular.recommend" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute recommendations for a user.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>user</strong> – the user ID</p></li>
<li><p><strong>n</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – the number of recommendations to produce (<code class="docutils literal notranslate"><span class="pre">None</span></code> for unlimited)</p></li>
<li><p><strong>candidates</strong> (<em>array-like</em>) – The set of valid candidate items; if <code class="docutils literal notranslate"><span class="pre">None</span></code>, a default set will be used.
For many algorithms, this is their <code class="xref py py-class docutils literal notranslate"><span class="pre">CandidateSelector</span></code>.</p></li>
<li><p><strong>ratings</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.0.4)"><em>pandas.Series</em></a>) – the user’s ratings (indexed by item id); if provided, they may be used to
override or augment the model’s notion of a user’s preferences.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a frame with an <code class="docutils literal notranslate"><span class="pre">item</span></code> column; if the recommender also produces scores,
they will be in a <code class="docutils literal notranslate"><span class="pre">score</span></code> column.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.0.4)">pandas.DataFrame</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="random-item-recommendation">
<h2>Random Item Recommendation<a class="headerlink" href="#random-item-recommendation" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="#lenskit.algorithms.basic.Random" title="lenskit.algorithms.basic.Random"><code class="xref py py-class docutils literal notranslate"><span class="pre">Random</span></code></a> algorithm implements random-item recommendation.</p>
<dl class="py class">
<dt id="lenskit.algorithms.basic.Random">
<em class="property">class </em><code class="sig-prename descclassname">lenskit.algorithms.basic.</code><code class="sig-name descname">Random</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">selector</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">rng_spec</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lenskit.algorithms.basic.Random" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="interfaces.html#lenskit.algorithms.Recommender" title="lenskit.algorithms.Recommender"><code class="xref py py-class docutils literal notranslate"><span class="pre">lenskit.algorithms.Recommender</span></code></a></p>
<p>A random-item recommender.</p>
<dl class="py attribute">
<dt id="lenskit.algorithms.basic.Random.selector">
<code class="sig-name descname">selector</code><em class="property">: CandidateSelector</em><a class="headerlink" href="#lenskit.algorithms.basic.Random.selector" title="Permalink to this definition">¶</a></dt>
<dd><p>Selects candidate items for recommendation.
Default is <a class="reference internal" href="#lenskit.algorithms.basic.UnratedItemCandidateSelector" title="lenskit.algorithms.basic.UnratedItemCandidateSelector"><code class="xref py py-class docutils literal notranslate"><span class="pre">UnratedItemCandidateSelector</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="lenskit.algorithms.basic.Random.rng_spec">
<code class="sig-name descname">rng_spec</code><a class="headerlink" href="#lenskit.algorithms.basic.Random.rng_spec" title="Permalink to this definition">¶</a></dt>
<dd><p>Seed or random state for generating recommendations.  Pass
<code class="docutils literal notranslate"><span class="pre">'user'</span></code> to deterministically derive per-user RNGS from
the user IDs for reproducibility.</p>
</dd></dl>

<dl class="py method">
<dt id="lenskit.algorithms.basic.Random.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ratings</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lenskit.algorithms.basic.Random.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Train a model using the specified ratings (or similar) data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ratings</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.0.4)"><em>pandas.DataFrame</em></a>) – The ratings data.</p></li>
<li><p><strong>kwargs</strong> – Additional training data the algorithm may require.  Algorithms should
avoid using the same keyword arguments for different purposes, so that
they can be more easily hybridized.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The algorithm object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lenskit.algorithms.basic.Random.recommend">
<code class="sig-name descname">recommend</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">user</span></em>, <em class="sig-param"><span class="n">n</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">candidates</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ratings</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lenskit.algorithms.basic.Random.recommend" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute recommendations for a user.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>user</strong> – the user ID</p></li>
<li><p><strong>n</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – the number of recommendations to produce (<code class="docutils literal notranslate"><span class="pre">None</span></code> for unlimited)</p></li>
<li><p><strong>candidates</strong> (<em>array-like</em>) – The set of valid candidate items; if <code class="docutils literal notranslate"><span class="pre">None</span></code>, a default set will be used.
For many algorithms, this is their <code class="xref py py-class docutils literal notranslate"><span class="pre">CandidateSelector</span></code>.</p></li>
<li><p><strong>ratings</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.0.4)"><em>pandas.Series</em></a>) – the user’s ratings (indexed by item id); if provided, they may be used to
override or augment the model’s notion of a user’s preferences.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a frame with an <code class="docutils literal notranslate"><span class="pre">item</span></code> column; if the recommender also produces scores,
they will be in a <code class="docutils literal notranslate"><span class="pre">score</span></code> column.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.0.4)">pandas.DataFrame</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="top-n-recommender">
<h2>Top-N Recommender<a class="headerlink" href="#top-n-recommender" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="#lenskit.algorithms.basic.TopN" title="lenskit.algorithms.basic.TopN"><code class="xref py py-class docutils literal notranslate"><span class="pre">TopN</span></code></a> class implements a standard top-<em>N</em> recommender that wraps a
<a class="reference internal" href="interfaces.html#lenskit.Predictor" title="lenskit.Predictor"><code class="xref py py-class docutils literal notranslate"><span class="pre">Predictor</span></code></a> and <a class="reference internal" href="interfaces.html#lenskit.CandidateSelector" title="lenskit.CandidateSelector"><code class="xref py py-class docutils literal notranslate"><span class="pre">CandidateSelector</span></code></a> and returns the top <em>N</em>
candidate items by predicted rating.  It is the type of recommender returned by
<a class="reference internal" href="interfaces.html#lenskit.Recommender.adapt" title="lenskit.Recommender.adapt"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Recommender.adapt()</span></code></a> if the provided algorithm is not a recommender.</p>
<dl class="py class">
<dt id="lenskit.algorithms.basic.TopN">
<em class="property">class </em><code class="sig-prename descclassname">lenskit.algorithms.basic.</code><code class="sig-name descname">TopN</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">predictor</span></em>, <em class="sig-param"><span class="n">selector</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lenskit.algorithms.basic.TopN" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="interfaces.html#lenskit.algorithms.Recommender" title="lenskit.algorithms.Recommender"><code class="xref py py-class docutils literal notranslate"><span class="pre">lenskit.algorithms.Recommender</span></code></a>, <a class="reference internal" href="interfaces.html#lenskit.algorithms.Predictor" title="lenskit.algorithms.Predictor"><code class="xref py py-class docutils literal notranslate"><span class="pre">lenskit.algorithms.Predictor</span></code></a></p>
<p>Basic recommender that implements top-N recommendation using a predictor.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This class does not do anything of its own in <a class="reference internal" href="#lenskit.algorithms.basic.TopN.fit" title="lenskit.algorithms.basic.TopN.fit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">fit()</span></code></a>.  If its
predictor and candidate selector are both fit, the top-N recommender
does not need to be fit.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>predictor</strong> (<a class="reference internal" href="interfaces.html#lenskit.Predictor" title="lenskit.Predictor"><em>Predictor</em></a>) – The underlying predictor.</p></li>
<li><p><strong>selector</strong> (<a class="reference internal" href="interfaces.html#lenskit.CandidateSelector" title="lenskit.CandidateSelector"><em>CandidateSelector</em></a>) – The candidate selector.  If <code class="docutils literal notranslate"><span class="pre">None</span></code>, uses <a class="reference internal" href="#lenskit.algorithms.basic.UnratedItemCandidateSelector" title="lenskit.algorithms.basic.UnratedItemCandidateSelector"><code class="xref py py-class docutils literal notranslate"><span class="pre">UnratedItemCandidateSelector</span></code></a>.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="lenskit.algorithms.basic.TopN.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ratings</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lenskit.algorithms.basic.TopN.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit the recommender.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ratings</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.0.4)"><em>pandas.DataFrame</em></a>) – The rating or interaction data.  Passed changed to the predictor and
candidate selector.</p></li>
<li><p><strong>kwargs</strong> (<em>args</em><em>,</em>) – Additional arguments for the predictor to use in its training process.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lenskit.algorithms.basic.TopN.recommend">
<code class="sig-name descname">recommend</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">user</span></em>, <em class="sig-param"><span class="n">n</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">candidates</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ratings</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lenskit.algorithms.basic.TopN.recommend" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute recommendations for a user.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>user</strong> – the user ID</p></li>
<li><p><strong>n</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – the number of recommendations to produce (<code class="docutils literal notranslate"><span class="pre">None</span></code> for unlimited)</p></li>
<li><p><strong>candidates</strong> (<em>array-like</em>) – The set of valid candidate items; if <code class="docutils literal notranslate"><span class="pre">None</span></code>, a default set will be used.
For many algorithms, this is their <code class="xref py py-class docutils literal notranslate"><span class="pre">CandidateSelector</span></code>.</p></li>
<li><p><strong>ratings</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.0.4)"><em>pandas.Series</em></a>) – the user’s ratings (indexed by item id); if provided, they may be used to
override or augment the model’s notion of a user’s preferences.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a frame with an <code class="docutils literal notranslate"><span class="pre">item</span></code> column; if the recommender also produces scores,
they will be in a <code class="docutils literal notranslate"><span class="pre">score</span></code> column.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.0.4)">pandas.DataFrame</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lenskit.algorithms.basic.TopN.predict">
<code class="sig-name descname">predict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pairs</span></em>, <em class="sig-param"><span class="n">ratings</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lenskit.algorithms.basic.TopN.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute predictions for user-item pairs.  This method is designed to be compatible with the
general SciKit paradigm; applications typically want to use <a class="reference internal" href="#lenskit.algorithms.basic.TopN.predict_for_user" title="lenskit.algorithms.basic.TopN.predict_for_user"><code class="xref py py-meth docutils literal notranslate"><span class="pre">predict_for_user()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pairs</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.0.4)"><em>pandas.DataFrame</em></a>) – The user-item pairs, as <code class="docutils literal notranslate"><span class="pre">user</span></code> and <code class="docutils literal notranslate"><span class="pre">item</span></code> columns.</p></li>
<li><p><strong>ratings</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.0.4)"><em>pandas.DataFrame</em></a>) – user-item rating data to replace memorized data.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The predicted scores for each user-item pair.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.0.4)">pandas.Series</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lenskit.algorithms.basic.TopN.predict_for_user">
<code class="sig-name descname">predict_for_user</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">user</span></em>, <em class="sig-param"><span class="n">items</span></em>, <em class="sig-param"><span class="n">ratings</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lenskit.algorithms.basic.TopN.predict_for_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute predictions for a user and items.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>user</strong> – the user ID</p></li>
<li><p><strong>items</strong> (<em>array-like</em>) – the items to predict</p></li>
<li><p><strong>ratings</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.0.4)"><em>pandas.Series</em></a>) – the user’s ratings (indexed by item id); if provided, they may be used to
override or augment the model’s notion of a user’s preferences.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>scores for the items, indexed by item id.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.0.4)">pandas.Series</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="unrated-item-candidate-selector">
<h2>Unrated Item Candidate Selector<a class="headerlink" href="#unrated-item-candidate-selector" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="#lenskit.algorithms.basic.UnratedItemCandidateSelector" title="lenskit.algorithms.basic.UnratedItemCandidateSelector"><code class="xref py py-class docutils literal notranslate"><span class="pre">UnratedItemCandidateSelector</span></code></a> is a candidate selector that remembers items
users have rated, and returns a candidate set consisting of all unrated items.  It is the
default candidate selector for <a class="reference internal" href="#lenskit.algorithms.basic.TopN" title="lenskit.algorithms.basic.TopN"><code class="xref py py-class docutils literal notranslate"><span class="pre">TopN</span></code></a>.</p>
<dl class="py class">
<dt id="lenskit.algorithms.basic.UnratedItemCandidateSelector">
<em class="property">class </em><code class="sig-prename descclassname">lenskit.algorithms.basic.</code><code class="sig-name descname">UnratedItemCandidateSelector</code><a class="headerlink" href="#lenskit.algorithms.basic.UnratedItemCandidateSelector" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="interfaces.html#lenskit.algorithms.CandidateSelector" title="lenskit.algorithms.CandidateSelector"><code class="xref py py-class docutils literal notranslate"><span class="pre">lenskit.algorithms.CandidateSelector</span></code></a></p>
<p><code class="xref py py-class docutils literal notranslate"><span class="pre">CandidateSelector</span></code> that selects items a user has not rated as
candidates.  When this selector is fit, it memorizes the rated items.</p>
<dl class="py attribute">
<dt id="lenskit.algorithms.basic.UnratedItemCandidateSelector.items_">
<code class="sig-name descname">items_</code><em class="property">: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Index.html#pandas.Index" title="(in pandas v1.0.4)">pandas.Index</a></em><a class="headerlink" href="#lenskit.algorithms.basic.UnratedItemCandidateSelector.items_" title="Permalink to this definition">¶</a></dt>
<dd><p>All known items.</p>
</dd></dl>

<dl class="py attribute">
<dt id="lenskit.algorithms.basic.UnratedItemCandidateSelector.users_">
<code class="sig-name descname">users_</code><em class="property">: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Index.html#pandas.Index" title="(in pandas v1.0.4)">pandas.Index</a></em><a class="headerlink" href="#lenskit.algorithms.basic.UnratedItemCandidateSelector.users_" title="Permalink to this definition">¶</a></dt>
<dd><p>All known users.</p>
</dd></dl>

<dl class="py attribute">
<dt id="lenskit.algorithms.basic.UnratedItemCandidateSelector.user_items_">
<code class="sig-name descname">user_items_</code><em class="property">: CSR</em><a class="headerlink" href="#lenskit.algorithms.basic.UnratedItemCandidateSelector.user_items_" title="Permalink to this definition">¶</a></dt>
<dd><p>Items rated by each known user, as positions in the <code class="docutils literal notranslate"><span class="pre">items</span></code> index.</p>
</dd></dl>

<dl class="py method">
<dt id="lenskit.algorithms.basic.UnratedItemCandidateSelector.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ratings</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lenskit.algorithms.basic.UnratedItemCandidateSelector.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Train a model using the specified ratings (or similar) data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ratings</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.0.4)"><em>pandas.DataFrame</em></a>) – The ratings data.</p></li>
<li><p><strong>kwargs</strong> – Additional training data the algorithm may require.  Algorithms should
avoid using the same keyword arguments for different purposes, so that
they can be more easily hybridized.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The algorithm object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lenskit.algorithms.basic.UnratedItemCandidateSelector.candidates">
<code class="sig-name descname">candidates</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">user</span></em>, <em class="sig-param"><span class="n">ratings</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lenskit.algorithms.basic.UnratedItemCandidateSelector.candidates" title="Permalink to this definition">¶</a></dt>
<dd><p>Select candidates for the user.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>user</strong> – The user key or ID.</p></li>
<li><p><strong>ratings</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.0.4)"><em>pandas.Series</em></a><em> or </em><em>array-like</em>) – Ratings or items to use instead of whatever ratings were memorized
for this user.  If a <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.0.4)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.Series</span></code></a>, the series index
is used; if it is another array-like it is assumed to be an array
of items.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="fallback-predictor">
<h2>Fallback Predictor<a class="headerlink" href="#fallback-predictor" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">Fallback</span></code> rating predictor is a simple hybrid that takes a list of composite algorithms,
and uses the first one to return a result to predict the rating for each item.</p>
<p>A common case is to fill in with <a class="reference internal" href="#lenskit.algorithms.basic.Bias" title="lenskit.algorithms.basic.Bias"><code class="xref py py-class docutils literal notranslate"><span class="pre">Bias</span></code></a> when a primary predictor cannot score an item.</p>
<dl class="py class">
<dt id="lenskit.algorithms.basic.Fallback">
<em class="property">class </em><code class="sig-prename descclassname">lenskit.algorithms.basic.</code><code class="sig-name descname">Fallback</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">algorithms</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">others</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lenskit.algorithms.basic.Fallback" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="interfaces.html#lenskit.algorithms.Predictor" title="lenskit.algorithms.Predictor"><code class="xref py py-class docutils literal notranslate"><span class="pre">lenskit.algorithms.Predictor</span></code></a></p>
<p>The Fallback algorithm predicts with its first component, uses the second to fill in
missing values, and so forth.</p>
<dl class="py method">
<dt id="lenskit.algorithms.basic.Fallback.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ratings</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lenskit.algorithms.basic.Fallback.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Train a model using the specified ratings (or similar) data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ratings</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.0.4)"><em>pandas.DataFrame</em></a>) – The ratings data.</p></li>
<li><p><strong>kwargs</strong> – Additional training data the algorithm may require.  Algorithms should
avoid using the same keyword arguments for different purposes, so that
they can be more easily hybridized.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The algorithm object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lenskit.algorithms.basic.Fallback.predict_for_user">
<code class="sig-name descname">predict_for_user</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">user</span></em>, <em class="sig-param"><span class="n">items</span></em>, <em class="sig-param"><span class="n">ratings</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lenskit.algorithms.basic.Fallback.predict_for_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute predictions for a user and items.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>user</strong> – the user ID</p></li>
<li><p><strong>items</strong> (<em>array-like</em>) – the items to predict</p></li>
<li><p><strong>ratings</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.0.4)"><em>pandas.Series</em></a>) – the user’s ratings (indexed by item id); if provided, they may be used to
override or augment the model’s notion of a user’s preferences.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>scores for the items, indexed by item id.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.0.4)">pandas.Series</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="memorized-predictor">
<h2>Memorized Predictor<a class="headerlink" href="#memorized-predictor" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">Memorized</span></code> recommender is primarily useful for test cases.  It memorizes a set of
rating predictions and returns them.</p>
<dl class="py class">
<dt id="lenskit.algorithms.basic.Memorized">
<em class="property">class </em><code class="sig-prename descclassname">lenskit.algorithms.basic.</code><code class="sig-name descname">Memorized</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">scores</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lenskit.algorithms.basic.Memorized" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="interfaces.html#lenskit.algorithms.Predictor" title="lenskit.algorithms.Predictor"><code class="xref py py-class docutils literal notranslate"><span class="pre">lenskit.algorithms.Predictor</span></code></a></p>
<p>The memorized algorithm memorizes socres provided at construction time.</p>
<dl class="py method">
<dt id="lenskit.algorithms.basic.Memorized.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lenskit.algorithms.basic.Memorized.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Train a model using the specified ratings (or similar) data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ratings</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.0.4)"><em>pandas.DataFrame</em></a>) – The ratings data.</p></li>
<li><p><strong>kwargs</strong> – Additional training data the algorithm may require.  Algorithms should
avoid using the same keyword arguments for different purposes, so that
they can be more easily hybridized.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The algorithm object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lenskit.algorithms.basic.Memorized.predict_for_user">
<code class="sig-name descname">predict_for_user</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">user</span></em>, <em class="sig-param"><span class="n">items</span></em>, <em class="sig-param"><span class="n">ratings</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lenskit.algorithms.basic.Memorized.predict_for_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute predictions for a user and items.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>user</strong> – the user ID</p></li>
<li><p><strong>items</strong> (<em>array-like</em>) – the items to predict</p></li>
<li><p><strong>ratings</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.0.4)"><em>pandas.Series</em></a>) – the user’s ratings (indexed by item id); if provided, they may be used to
override or augment the model’s notion of a user’s preferences.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>scores for the items, indexed by item id.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.0.4)">pandas.Series</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="knn.html" class="btn btn-neutral float-right" title="k-NN Collaborative Filtering" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="algorithms.html" class="btn btn-neutral float-left" title="Algorithm Summary" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018–2019 Boise State University
      
        <span class="commit">
          Revision <code>58256cdc</code>.
        </span>
      

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
<p>This material is based upon work supported by the National Science Foundation under
Grant No. <a href="https://md.ekstrandom.net/research/career">IIS 17-51278</a>. Any
opinions, findings, and conclusions or recommendations expressed in this material
are those of the author(s) and do not necessarily reflect the views of the
National Science Foundation.  This page has not been approved by
Boise State University and does not reflect official university positions.</p>
<script data-goatcounter="https://lenskit.goatcounter.com/count"
        async src="//gc.zgo.at/count.js"></script>


</footer>

        </div>
      </div>

    </section>

  </div>
  

  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Read the Docs</span>
      v: 0.10.0
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Versions</dt>
        
          <dd><a href="/en/latest/">latest</a></dd>
        
          <dd><a href="/en/stable/">stable</a></dd>
        
          <dd><a href="/en/0.10.0/">0.10.0</a></dd>
        
          <dd><a href="/en/0.9.0/">0.9.0</a></dd>
        
          <dd><a href="/en/0.8.4/">0.8.4</a></dd>
        
          <dd><a href="/en/0.8.1/">0.8.1</a></dd>
        
          <dd><a href="/en/0.8.0/">0.8.0</a></dd>
        
          <dd><a href="/en/0.7.0/">0.7.0</a></dd>
        
          <dd><a href="/en/0.6.1/">0.6.1</a></dd>
        
          <dd><a href="/en/0.6.0/">0.6.0</a></dd>
        
          <dd><a href="/en/0.5.0/">0.5.0</a></dd>
        
          <dd><a href="/en/0.3.0/">0.3.0</a></dd>
        
          <dd><a href="/en/0.2.0/">0.2.0</a></dd>
        
          <dd><a href="/en/0.1.0/">0.1.0</a></dd>
        
      </dl>
      <dl>
        <dt>Downloads</dt>
        
      </dl>
      <dl>
        <dt>On Read the Docs</dt>
          <dd>
            <a href="//readthedocs.org/projects/lkpy/?fromdocs=lkpy">Project Home</a>
          </dd>
          <dd>
            <a href="//readthedocs.org/builds/lkpy/?fromdocs=lkpy">Builds</a>
          </dd>
      </dl>
      <hr/>
      Free document hosting provided by <a href="http://www.readthedocs.org">Read the Docs</a>.

    </div>
  </div>



  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
   

</body>
</html>