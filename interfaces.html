<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./"><head>
  <meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Algorithm Interfaces — LensKit 0.14.4 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50">
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094">

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=623310c1"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" src="/_/static/javascript/readthedocs-doc-embed.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html">
    <link rel="search" title="Search" href="search.html">
    <link rel="next" title="Algorithm Summary" href="algorithms.html">
    <link rel="prev" title="Top-N Evaluation" href="evaluation/topn-metrics.html"> 

<!-- RTD Extra Head -->

<link rel="stylesheet" href="/_/static/css/readthedocs-doc-embed.css" type="text/css">

<script type="application/json" id="READTHEDOCS_DATA">{"ad_free": false, "api_host": "https://readthedocs.org", "builder": "sphinx", "canonical_url": null, "docroot": "/docs/", "features": {"docsearch_disabled": false}, "global_analytics_code": "UA-17997319-1", "language": "en", "page": "interfaces", "programming_language": "py", "project": "lkpy", "proxied_api_host": "/_", "source_suffix": ".rst", "subprojects": {"lenskit-hpf": "https://lkpy.readthedocs.io/projects/lenskit-hpf/en/stable/", "lenskit-implicit": "https://lkpy.readthedocs.io/projects/lenskit-implicit/en/latest/", "lenskit-tf": "https://lkpy.readthedocs.io/projects/lenskit-tf/en/latest/"}, "theme": "sphinx_rtd_theme", "user_analytics_code": "", "version": "0.14.4"}</script>

<!--
Using this variable directly instead of using `JSON.parse` is deprecated.
The READTHEDOCS_DATA global variable will be removed in the future.
-->
<script type="text/javascript">
READTHEDOCS_DATA = JSON.parse(document.getElementById('READTHEDOCS_DATA').innerHTML);
</script>

<script type="text/javascript" src="/_/static/javascript/readthedocs-analytics.js" async="async"></script>

<!-- end RTD <extrahead> -->
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">

          
          
          <a href="index.html" class="icon icon-home">
            LensKit
          </a>
              <div class="version">
                0.14.4
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs">
    <input type="hidden" name="check_keywords" value="yes">
    <input type="hidden" name="area" value="default">
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="install.html">Install LensKit</a></li>
<li class="toctree-l1"><a class="reference internal" href="GettingStarted.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/lenskit/lkpy/releases">Release Notes</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Running Experiments</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="datasets.html">Loading Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="crossfold.html">Splitting Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="batch.html">Batch-Running Recommenders</a></li>
<li class="toctree-l1"><a class="reference internal" href="evaluation/index.html">Evaluating Recommender Output</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Algorithms</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Algorithm Interfaces</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#serialization">Serialization</a></li>
<li class="toctree-l2"><a class="reference internal" href="#base-algorithm">Base Algorithm</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#lenskit.Algorithm"><code class="docutils literal notranslate"><span class="pre">Algorithm</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#lenskit.Algorithm.IGNORED_PARAMS"><code class="docutils literal notranslate"><span class="pre">Algorithm.IGNORED_PARAMS</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#lenskit.Algorithm.EXTRA_PARAMS"><code class="docutils literal notranslate"><span class="pre">Algorithm.EXTRA_PARAMS</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#lenskit.Algorithm.fit"><code class="docutils literal notranslate"><span class="pre">Algorithm.fit()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#lenskit.Algorithm.get_params"><code class="docutils literal notranslate"><span class="pre">Algorithm.get_params()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#recommendation">Recommendation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#lenskit.Recommender"><code class="docutils literal notranslate"><span class="pre">Recommender</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#lenskit.Recommender.recommend"><code class="docutils literal notranslate"><span class="pre">Recommender.recommend()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#lenskit.Recommender.adapt"><code class="docutils literal notranslate"><span class="pre">Recommender.adapt()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#candidate-selection">Candidate Selection</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#lenskit.CandidateSelector"><code class="docutils literal notranslate"><span class="pre">CandidateSelector</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#lenskit.CandidateSelector.candidates"><code class="docutils literal notranslate"><span class="pre">CandidateSelector.candidates()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#lenskit.CandidateSelector.rated_items"><code class="docutils literal notranslate"><span class="pre">CandidateSelector.rated_items()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#rating-prediction">Rating Prediction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#lenskit.Predictor"><code class="docutils literal notranslate"><span class="pre">Predictor</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#lenskit.Predictor.predict"><code class="docutils literal notranslate"><span class="pre">Predictor.predict()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#lenskit.Predictor.predict_for_user"><code class="docutils literal notranslate"><span class="pre">Predictor.predict_for_user()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="algorithms.html">Algorithm Summary</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic.html">Basic and Utility Algorithms</a></li>
<li class="toctree-l1"><a class="reference internal" href="ranking.html">Ranking Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="bias.html">Bias</a></li>
<li class="toctree-l1"><a class="reference internal" href="knn.html">k-NN Collaborative Filtering</a></li>
<li class="toctree-l1"><a class="reference internal" href="mf.html">Classic Matrix Factorization</a></li>
<li class="toctree-l1"><a class="reference internal" href="addons.html">Add-On Algorithms</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tips and Tricks</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="performance.html">Performance Tips</a></li>
<li class="toctree-l1"><a class="reference internal" href="diagnostics.html">Errors and Diagnostics</a></li>
<li class="toctree-l1"><a class="reference internal" href="impl-tips.html">Algorithm Implementation Tips</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Configuration and Internals</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="util.html">Utility Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="internals.html">LensKit Internals</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Links</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="references.html">References</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">LensKit</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Algorithm Interfaces</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/lenskit/lkpy/blob/0.14.4/docs/interfaces.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-lenskit">
<span id="algorithm-interfaces"></span><h1>Algorithm Interfaces<a class="headerlink" href="#module-lenskit" title="Link to this heading"></a></h1>
<p>LKPY’s batch routines and utility support for managing algorithms expect algorithms
to implement consistent interfaces.  This page describes those interfaces.</p>
<p>The interfaces are realized as abstract base classes with the Python <a class="reference external" href="https://docs.python.org/3/library/abc.html#module-abc" title="(in Python v3.12)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">abc</span></code></a> module.
Implementations must be registered with their interfaces, either by subclassing the interface
or by calling <a class="reference external" href="https://docs.python.org/3/library/abc.html#abc.ABCMeta.register" title="(in Python v3.12)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">abc.ABCMeta.register()</span></code></a>.</p>
<section id="serialization">
<h2>Serialization<a class="headerlink" href="#serialization" title="Link to this heading"></a></h2>
<p>Like SciKit models, all LensKit algorithms are pickleable, and this is how we
recommend saving models to disk for later use.  This can be done with
<a class="reference external" href="https://docs.python.org/3/library/pickle.html#module-pickle" title="(in Python v3.12)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pickle</span></code></a>, but we recommend using <code class="xref py py-mod docutils literal notranslate"><span class="pre">binpickle</span></code> for more
automatically-optimized storage.  For example, to save a fully-configured ALS
module with fairly aggressive ZSTD compression:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">algo</span> <span class="o">=</span> <span class="n">Recommender</span><span class="o">.</span><span class="n">adapt</span><span class="p">(</span><span class="n">ImplicitMF</span><span class="p">(</span><span class="mi">50</span><span class="p">))</span>
<span class="n">algo</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">ratings</span><span class="p">)</span>
<span class="n">binpickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">algo</span><span class="p">,</span> <span class="n">binpickle</span><span class="o">.</span><span class="n">codecs</span><span class="o">.</span><span class="n">Blosc</span><span class="p">(</span><span class="s1">'zstd'</span><span class="p">,</span> <span class="mi">9</span><span class="p">))</span>
</pre></div>
</div>
</section>
<section id="base-algorithm">
<h2>Base Algorithm<a class="headerlink" href="#base-algorithm" title="Link to this heading"></a></h2>
<p>Algorithms follow the SciKit fit-predict paradigm for estimators, except they
know natively how to work with Pandas objects.</p>
<p>The <a class="reference internal" href="#lenskit.Algorithm" title="lenskit.Algorithm"><code class="xref py py-class docutils literal notranslate"><span class="pre">Algorithm</span></code></a> interface defines common methods.</p>
<dl class="py class">
<dt class="sig sig-object py" id="lenskit.Algorithm">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">lenskit.</span></span><span class="sig-name descname"><span class="pre">Algorithm</span></span><a class="headerlink" href="#lenskit.Algorithm" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Base class for LensKit algorithms.  These algorithms follow the SciKit design pattern
for estimators.</p>
<dl class="field-list simple">
<dt class="field-odd">Canonical<span class="colon">:</span></dt>
<dd class="field-odd"><p>lenskit.Algorithm</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="lenskit.Algorithm.IGNORED_PARAMS">
<span class="sig-name descname"><span class="pre">IGNORED_PARAMS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[]</span></em><a class="headerlink" href="#lenskit.Algorithm.IGNORED_PARAMS" title="Link to this definition"></a></dt>
<dd><p>Names of parameters to ignore in <a class="reference internal" href="#lenskit.Algorithm.get_params" title="lenskit.Algorithm.get_params"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_params()</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="lenskit.Algorithm.EXTRA_PARAMS">
<span class="sig-name descname"><span class="pre">EXTRA_PARAMS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[]</span></em><a class="headerlink" href="#lenskit.Algorithm.EXTRA_PARAMS" title="Link to this definition"></a></dt>
<dd><p>Names of extra parameters to include in <a class="reference internal" href="#lenskit.Algorithm.get_params" title="lenskit.Algorithm.get_params"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_params()</span></code></a>.  Useful when the
constructor takes <code class="docutils literal notranslate"><span class="pre">**kwargs</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lenskit.Algorithm.fit">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ratings</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lenskit.Algorithm.fit" title="Link to this definition"></a></dt>
<dd><p>Train a model using the specified ratings (or similar) data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ratings</strong> (<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v2.2.0)"><em>pandas.DataFrame</em></a>) – The ratings data.</p></li>
<li><p><strong>kwargs</strong> – Additional training data the algorithm may require.  Algorithms should
avoid using the same keyword arguments for different purposes, so that
they can be more easily hybridized.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The algorithm object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lenskit.Algorithm.get_params">
<span class="sig-name descname"><span class="pre">get_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">deep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lenskit.Algorithm.get_params" title="Link to this definition"></a></dt>
<dd><p>Get the parameters for this algorithm (as in scikit-learn).  Algorithm parameters
should match constructor argument names.</p>
<p>The default implementation returns all attributes that match a constructor parameter
name.  It should be compatible with <a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.base.BaseEstimator.html#sklearn.base.BaseEstimator.get_params" title="(in scikit-learn v1.4)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sklearn.base.BaseEstimator.get_params()</span></code></a>
method so that LensKit alogrithms can be cloned with <a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.base.clone.html#sklearn.base.clone" title="(in scikit-learn v1.4)"><code class="xref py py-func docutils literal notranslate"><span class="pre">sklearn.base.clone()</span></code></a>
as well as <a class="reference internal" href="util.html#lenskit.util.clone" title="lenskit.util.clone"><code class="xref py py-func docutils literal notranslate"><span class="pre">lenskit.util.clone()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>the algorithm parameters.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)">dict</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="recommendation">
<h2>Recommendation<a class="headerlink" href="#recommendation" title="Link to this heading"></a></h2>
<p>The <a class="reference internal" href="#lenskit.Recommender" title="lenskit.Recommender"><code class="xref py py-class docutils literal notranslate"><span class="pre">Recommender</span></code></a> interface provides an interface to generating
recommendations.  Not all algorithms implement it; call
<a class="reference internal" href="#lenskit.Recommender.adapt" title="lenskit.Recommender.adapt"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Recommender.adapt()</span></code></a> on an algorithm to get a recommender for any
algorithm that at least implements <a class="reference internal" href="#lenskit.Predictor" title="lenskit.Predictor"><code class="xref py py-class docutils literal notranslate"><span class="pre">Predictor</span></code></a>.  For example:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">pred</span> <span class="o">=</span> <span class="n">Bias</span><span class="p">(</span><span class="n">damping</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="n">rec</span> <span class="o">=</span> <span class="n">Recommender</span><span class="o">.</span><span class="n">adapt</span><span class="p">(</span><span class="n">pred</span><span class="p">)</span>
</pre></div>
</div>
<p>If the algorithm already implements <a class="reference internal" href="#lenskit.Recommender" title="lenskit.Recommender"><code class="xref py py-class docutils literal notranslate"><span class="pre">Recommender</span></code></a>, it is returned, so
it is safe to always call <a class="reference internal" href="#lenskit.Recommender.adapt" title="lenskit.Recommender.adapt"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Recommender.adapt()</span></code></a> before fitting an
algorithm you will need for top-<em>N</em> recommendations to mak sure it is suitable.</p>
<dl class="py class">
<dt class="sig sig-object py" id="lenskit.Recommender">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">lenskit.</span></span><span class="sig-name descname"><span class="pre">Recommender</span></span><a class="headerlink" href="#lenskit.Recommender" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#lenskit.Algorithm" title="lenskit.algorithms.Algorithm"><code class="xref py py-class docutils literal notranslate"><span class="pre">Algorithm</span></code></a></p>
<p>Recommends lists of items for users.</p>
<dl class="py method">
<dt class="sig sig-object py" id="lenskit.Recommender.recommend">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">recommend</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">candidates</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ratings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lenskit.Recommender.recommend" title="Link to this definition"></a></dt>
<dd><p>Compute recommendations for a user.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>user</strong> – the user ID</p></li>
<li><p><strong>n</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – the number of recommendations to produce (<code class="docutils literal notranslate"><span class="pre">None</span></code> for unlimited)</p></li>
<li><p><strong>candidates</strong> (<em>array-like</em>) – The set of valid candidate items; if <code class="docutils literal notranslate"><span class="pre">None</span></code>, a default set will be used.
For many algorithms, this is their <a class="reference internal" href="#lenskit.CandidateSelector" title="lenskit.CandidateSelector"><code class="xref py py-class docutils literal notranslate"><span class="pre">CandidateSelector</span></code></a>.</p></li>
<li><p><strong>ratings</strong> (<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v2.2.0)"><em>pandas.Series</em></a>) – the user’s ratings (indexed by item id); if provided, they may be used to
override or augment the model’s notion of a user’s preferences.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a frame with an <code class="docutils literal notranslate"><span class="pre">item</span></code> column; if the recommender also produces scores,
they will be in a <code class="docutils literal notranslate"><span class="pre">score</span></code> column.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v2.2.0)">pandas.DataFrame</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lenskit.Recommender.adapt">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">adapt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">algo</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lenskit.Recommender.adapt" title="Link to this definition"></a></dt>
<dd><p>Ensure that an algorithm is a <a class="reference internal" href="#lenskit.Recommender" title="lenskit.Recommender"><code class="xref py py-class docutils literal notranslate"><span class="pre">Recommender</span></code></a>.  If it is not a recommender,
it is wrapped in a <code class="xref py py-class docutils literal notranslate"><span class="pre">lenskit.basic.TopN</span></code> with a default candidate selector.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Since 0.6.0, since algorithms are fit directly, you should call this method
<strong>before</strong> calling <a class="reference internal" href="#lenskit.Algorithm.fit" title="lenskit.Algorithm.fit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Algorithm.fit()</span></code></a>, unless you will always be passing
explicit candidate sets to <a class="reference internal" href="#lenskit.Recommender.recommend" title="lenskit.Recommender.recommend"><code class="xref py py-meth docutils literal notranslate"><span class="pre">recommend()</span></code></a>.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>algo</strong> (<a class="reference internal" href="#lenskit.Predictor" title="lenskit.Predictor"><em>Predictor</em></a>) – the underlying rating predictor.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="candidate-selection">
<h2>Candidate Selection<a class="headerlink" href="#candidate-selection" title="Link to this heading"></a></h2>
<p>Some recommenders use a <em>candidate selector</em> to identify possible items to
recommend. These are also treated as algorithms, mainly so that they can
memorize users’ prior ratings to exclude them from recommendation.</p>
<dl class="py class">
<dt class="sig sig-object py" id="lenskit.CandidateSelector">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">lenskit.</span></span><span class="sig-name descname"><span class="pre">CandidateSelector</span></span><a class="headerlink" href="#lenskit.CandidateSelector" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#lenskit.Algorithm" title="lenskit.algorithms.Algorithm"><code class="xref py py-class docutils literal notranslate"><span class="pre">Algorithm</span></code></a></p>
<p>Select candidates for recommendation for a user, possibly with some
additional ratings.</p>
<p><a class="reference internal" href="basic.html#lenskit.algorithms.basic.UnratedItemCandidateSelector" title="lenskit.algorithms.basic.UnratedItemCandidateSelector"><code class="xref py py-class docutils literal notranslate"><span class="pre">UnratedItemCandidateSelector</span></code></a> is the default and most common implementation
of this interface.</p>
<dl class="py method">
<dt class="sig sig-object py" id="lenskit.CandidateSelector.candidates">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">candidates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ratings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lenskit.CandidateSelector.candidates" title="Link to this definition"></a></dt>
<dd><p>Select candidates for the user.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>user</strong> – The user key or ID.</p></li>
<li><p><strong>ratings</strong> (<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v2.2.0)"><em>pandas.Series</em></a><em> or </em><em>array-like</em>) – Ratings or items to use instead of whatever ratings were memorized
for this user.  If a <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v2.2.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.Series</span></code></a>, the series index
is used; if it is another array-like it is assumed to be an array
of items.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lenskit.CandidateSelector.rated_items">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">rated_items</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ratings</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lenskit.CandidateSelector.rated_items" title="Link to this definition"></a></dt>
<dd><p>Utility function for converting a series or array into an array of item
IDs.  Useful in implementations of <a class="reference internal" href="#lenskit.CandidateSelector.candidates" title="lenskit.CandidateSelector.candidates"><code class="xref py py-meth docutils literal notranslate"><span class="pre">candidates()</span></code></a>.</p>
</dd></dl>

</dd></dl>

</section>
<section id="rating-prediction">
<h2>Rating Prediction<a class="headerlink" href="#rating-prediction" title="Link to this heading"></a></h2>
<p>The <a class="reference internal" href="#lenskit.Predictor" title="lenskit.Predictor"><code class="xref py py-class docutils literal notranslate"><span class="pre">Predictor</span></code></a> class impelemnts ‘rating prediction’, as well as any
other personalized item scoring that may not be predictions of actual ratings.
Most algorithms actually implement this interface.</p>
<dl class="py class">
<dt class="sig sig-object py" id="lenskit.Predictor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">lenskit.</span></span><span class="sig-name descname"><span class="pre">Predictor</span></span><a class="headerlink" href="#lenskit.Predictor" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#lenskit.Algorithm" title="lenskit.algorithms.Algorithm"><code class="xref py py-class docutils literal notranslate"><span class="pre">Algorithm</span></code></a></p>
<p>Predicts user ratings of items.  Predictions are really estimates of the user’s like or
dislike, and the <code class="docutils literal notranslate"><span class="pre">Predictor</span></code> interface makes no guarantees about their scale or
granularity.</p>
<dl class="field-list simple">
<dt class="field-odd">Canonical<span class="colon">:</span></dt>
<dd class="field-odd"><p>lenskit.Predictor</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="lenskit.Predictor.predict">
<span class="sig-name descname"><span class="pre">predict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pairs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ratings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lenskit.Predictor.predict" title="Link to this definition"></a></dt>
<dd><p>Compute predictions for user-item pairs.  This method is designed to be compatible with the
general SciKit paradigm; applications typically want to use <a class="reference internal" href="#lenskit.Predictor.predict_for_user" title="lenskit.Predictor.predict_for_user"><code class="xref py py-meth docutils literal notranslate"><span class="pre">predict_for_user()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pairs</strong> (<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v2.2.0)"><em>pandas.DataFrame</em></a>) – The user-item pairs, as <code class="docutils literal notranslate"><span class="pre">user</span></code> and <code class="docutils literal notranslate"><span class="pre">item</span></code> columns.</p></li>
<li><p><strong>ratings</strong> (<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v2.2.0)"><em>pandas.DataFrame</em></a>) – user-item rating data to replace memorized data.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The predicted scores for each user-item pair.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v2.2.0)">pandas.Series</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lenskit.Predictor.predict_for_user">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">predict_for_user</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">items</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ratings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lenskit.Predictor.predict_for_user" title="Link to this definition"></a></dt>
<dd><p>Compute predictions for a user and items.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>user</strong> – the user ID</p></li>
<li><p><strong>items</strong> (<em>array-like</em>) – the items to predict</p></li>
<li><p><strong>ratings</strong> (<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v2.2.0)"><em>pandas.Series</em></a>) – the user’s ratings (indexed by item id); if provided, they may be used to
override or augment the model’s notion of a user’s preferences.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>scores for the items, indexed by item id.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v2.2.0)">pandas.Series</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="evaluation/topn-metrics.html" class="btn btn-neutral float-left" title="Top-N Evaluation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="algorithms.html" class="btn btn-neutral float-right" title="Algorithm Summary" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr>

  <div role="contentinfo">
    <p>© Copyright 2018–2019 Boise State University.
      <span class="commit">Revision <code>4dfa4107</code>.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
<p>This material is based upon work supported by the National Science Foundation under
Grant No. <a href="https://md.ekstrandom.net/research/career">IIS 17-51278</a>. Any
opinions, findings, and conclusions or recommendations expressed in this material
are those of the author(s) and do not necessarily reflect the views of the
National Science Foundation.  This page has not been approved by
Boise State University and does not reflect official university positions.</p>
<script data-goatcounter="https://lenskit.goatcounter.com/count" async="" src="//gc.zgo.at/count.js"></script>


</footer>
        </div>
      </div>
    </section>
  </div>
  

  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="Versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Read the Docs</span>
      v: 0.14.4
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Versions</dt>
        
          <dd><a href="/en/latest/">latest</a></dd>
        
          <dd><a href="/en/stable/">stable</a></dd>
        
          <dd><a href="/en/0.14.4/">0.14.4</a></dd>
        
          <dd><a href="/en/0.14.3/">0.14.3</a></dd>
        
          <dd><a href="/en/0.14.2/">0.14.2</a></dd>
        
          <dd><a href="/en/0.14.1/">0.14.1</a></dd>
        
          <dd><a href="/en/0.14.0/">0.14.0</a></dd>
        
          <dd><a href="/en/0.13.1/">0.13.1</a></dd>
        
          <dd><a href="/en/0.13.0/">0.13.0</a></dd>
        
          <dd><a href="/en/0.12.3/">0.12.3</a></dd>
        
          <dd><a href="/en/0.12.2/">0.12.2</a></dd>
        
          <dd><a href="/en/0.12.1/">0.12.1</a></dd>
        
          <dd><a href="/en/0.12.0/">0.12.0</a></dd>
        
          <dd><a href="/en/0.11.1/">0.11.1</a></dd>
        
          <dd><a href="/en/0.11.0/">0.11.0</a></dd>
        
          <dd><a href="/en/0.10.1/">0.10.1</a></dd>
        
          <dd><a href="/en/0.10.0/">0.10.0</a></dd>
        
          <dd><a href="/en/0.9.0/">0.9.0</a></dd>
        
          <dd><a href="/en/0.8.4/">0.8.4</a></dd>
        
          <dd><a href="/en/0.8.1/">0.8.1</a></dd>
        
          <dd><a href="/en/0.8.0/">0.8.0</a></dd>
        
          <dd><a href="/en/0.7.0/">0.7.0</a></dd>
        
          <dd><a href="/en/0.6.1/">0.6.1</a></dd>
        
          <dd><a href="/en/0.6.0/">0.6.0</a></dd>
        
          <dd><a href="/en/0.5.0/">0.5.0</a></dd>
        
          <dd><a href="/en/0.3.0/">0.3.0</a></dd>
        
          <dd><a href="/en/0.2.0/">0.2.0</a></dd>
        
          <dd><a href="/en/0.1.0/">0.1.0</a></dd>
        
      </dl>
      <dl>
        <dt>Downloads</dt>
        
      </dl>
      
    </div>
  </div>
<script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 


</body></html>